{% extends "layout.njk" %}
{% block  content %}
{% include "components/navbar.njk" %}

<main class="container">
    <div>
        <form action="/tasks" method="post">
            <div class="input-group">
                <input
                type="text"
                name="task"
                id="task"
                values="{{ task }}"
                placeholder="Write a task"
                required>
                <button type="submit" class="input-group-text">Add task</button>
            </div>
        
        </form>
    </div>
    <div>
        <ul class="list-group">
        {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between"> 
                <div class="form-check me-3">
                        <input 
                            class="form-check-input" 
                            type="checkbox"
                            value="{{task.completed}}"
                            name="task-{{task.id}}"
                            id="task-{{task.id}}"
                            {% if task.completed %} checked {% endif %}>
                    {{task.task}} 
                </div>
            <div class="d-flex">
                    <a href="/tasks/{{task.id}}/delete" class="btn btn-sm btn-danger">Delete task</a>
            </div>
        </li>
    
        {% endfor %}
        </ul>
        
    </div>
</main>

<script src="/javascript/complete.js"></script>

{% endblock %}